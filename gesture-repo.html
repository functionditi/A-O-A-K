<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a-of-a-k</title>
    <!-- <link rel="stylesheet" type="text/css" href="./styles.css" /> -->
  </head>

  <style>
    @font-face {
            font-family: 'Trench';
            src: url('itf-trenches/Trench-Rounded-Complete/TrenchRounded-Light.otf') format('opentype');
        }
          @font-face {
            font-family: 'PP Mori';
            src: url('itf-trenches/PPMori-SemiBold.otf') format('opentype');
        }


    
    body, html {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow-y: auto;
    }

    body{
    
      background-size: 4vw 4vw; /* Set the size of the grid */
      background-image:
    linear-gradient(to right, #F25C05 0.01px, transparent 1px),
    linear-gradient(to bottom, #F25C05 0.01px, transparent 1px);
    
    }

    #sectionA {
      padding-left:2vw;
    padding-top: 2vh;
    position: relative;
    min-height: 100vh;              /* fill one viewport */
    overflow: hidden;
  }

  #sectionB {


    position: relative;
         
    /* min-height: 100vh; */
    
    background-color: #e6d063;
    display: flex;
    /* align-items: center;
    justify-content: center; */
    padding: 40px;
    
    z-index: 999;
  }

  #sectionC {


    position: relative;
    min-height: 90vh;
    background-color: #F25C05;
    display: flex;
    align-items: center;
    justify-content: center;

    z-index: 999;
    }

    #sectionD {


    position: relative;
         
    /* min-height: 100vh; */
    
    background-color: #e6d063;
    display: flex;
    /* align-items: center;
    justify-content: center; */
    padding: 40px;
    
    z-index: 999;
    }
    #sectionE {


    position: relative;
         
    /* min-height: 100vh; */
    
    background-color: #e6d063;
    /* display: flex; */
    /* align-items: center;
    justify-content: center; */
    /* padding: 40px; */
    
    z-index: 999;
    }

    #sectionF {


    position: relative;
         
    /* min-height: 100vh; */
    
    background-color: #e6d063;
    display: flex;
    /* align-items: center;
    justify-content: center; */
    padding: 40px;
    
    z-index: 999;
    }

    #sectionG {


    position: relative;
        
    /* min-height: 100vh; */
  
    background-color: #e6d063;
    display: flex;
    /* align-items: center;
    justify-content: center; */
    /* padding: 40px; */
    
    z-index: 999;
    }

    #sectionG img{
      max-width: 50%;
    }
     #sectionH {


    position: relative;
         
    min-height: 100vh;
    
    background-color: #e6d063;
    /* display: flex; */
    /* align-items: center;
    justify-content: center; */
    /* padding: 40px; */
    overflow: hidden;
    z-index: 999;
    }

    #sectionH img.draggable {
    position: absolute; 
    /* top: 100px;        
    left: 100px;         */
    width: 20%;  /* Adjust width to your liking */
    height: auto;
    border: 2px solid #e4c753;
    cursor: grab; 
    user-select: none;  /* prevent text selection when dragging */
  }

  #sectionH img.draggable:active {
    cursor: grabbing;
  }


    

iframe {
    margin: 0;
    padding: 0;
    width: 50vw;
    height: 50vh;
    display:inline-flex;
    border: #fff;
    overflow: hidden;
  }




  /* typography stuff */

        h1{
    font-family: 'Trench';
      font-weight: 20;
      font-size: 12vw;
      padding-bottom:0vw;
      line-height: 160px;
      
    margin:0vw;
    color: #F25C05;
      -webkit-text-fill-color: #F25C05; 
      -webkit-text-stroke-width: 0.1vw;
      -webkit-text-stroke-color: #fff;
      
    }

    h2{
      
      font-family: 'Trench';
        font-weight: 20;
        font-size: 3vw;
        padding-bottom:1vw;
      margin:0vw;
      color: #F25C05;
        
      }

      h3{
  
  font-family: 'Trench';
     font-weight: 90;
     font-size: 2vw;
     padding-bottom:0vw;
   margin:0vw;
   color: #F25C05;
   
  }

    alt{
      font-feature-settings: "ss01";
      -moz-font-feature-settings: "ss01";
      -webkit-font-feature-settings: "ss01";
      
    }

    li, p{
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
    Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;

    /* font-family: 'Trench'; */
    color: #F25C05;
    background-color: #fff;
   font-size: 1.2vw;
   padding-bottom:0vw;
    
 }

 a{
  font-family: 'Trench';
  color: #F25C05;
  font-size: 3vw;
  font-style: italic;
  text-decoration: none;
  
 }

 .back-button {
            font-family: 'Trench';
            background: white;
            color: #e26126;
            border: none;
            border-radius: 25px;
            padding: 8px 16px;
            font-size: 18px;
            cursor: pointer;
        }


        .sketch-container {
  position: relative;
  width: 50vw;
  height: 50vh;
}

.sketch-container iframe {
  width: 100%;
  height: 100%;
  border: none;
}

.sketch-button-panel {
  position: absolute;
  top: -50px;
  left: 0;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 10px;
  gap: 10px;
  z-index: 10;
}

.sketch-overlay-btn {
  font-family: 'PP Mori';
  font-size: 1vw;
  background-color: #e4c753;
  border: 1px solid #FFF;
  color: #311d1d;
  padding: 6px 12px;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.sketch-overlay-btn:hover {
  background-color: #F25C05;
  color: #fff;
}


        
 .btn {
  font-family: 'PP Mori';
  font-weight: 100;
  border: 2px solid #F25C05;
  background-color: rgba(255, 255, 255, 10);
  color: #F25C05;
  padding: 7px 14px;
  font-size: 2vw;
  cursor: pointer;
    border-radius: 40px;
  }


 

  .btn:hover{
    color: black;
    border: 2px solid #000;
     }


#altbutton{
border: 2px solid #fff;
background-color: #F25C05;
color: #fff;
}


#altbutton:hover{
  background-color: #311d1d;
}


  .bigger{
    font-size: 5vw;
  }

  .fixedonscreen{
  position:fixed; 
  z-index: 2;
  }
             
  img{
    margin: 0;
    padding: 0;
    width: 100%;
    height: flex;
    display:inline-flex;
    border-radius: 4px;
  }

  img.draggable {
    position: absolute; 
    top: 100px;         /* initial position: adjust as needed */
    left: 100px;        /* initial position: adjust as needed */
    width: 120px;  /* Adjust width to your liking */
    height: 120px; /* Adjust height to your liking */
    border: 2px solid #e4c753;
    cursor: grab; 
    user-select: none;  /* prevent text selection when dragging */
  }

  img.draggable:active {
    cursor: grabbing;
  }

  video{
    border-radius: 4px;
  }

  video.draggable {
    position: absolute;
    width: 120px;  /* Adjust width to your liking */
    height: 120px; /* Adjust height to your liking */
    border: 2px solid #e4c753;
    cursor: grab;
    user-select: none; /* Prevent accidental text selection while dragging */
  }

  /* Show "grabbing" cursor on mousedown */
  video.draggable:active {
    cursor: grabbing;
  }

  .info-container {
    position: fixed;
    top: 50%;
  width: 20%;
    left: 5%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 20px;
    padding: 10px;
    
    z-index: 0;
    
  }

  .panel-container {
    position: fixed;
    top: 50%;
  
    right: 5%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 20px;
    padding: 10px;
    /* This z-index ensures panels are above all draggable media */
    z-index: 100;
   
    
    
}

.panels-hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none; /* avoid accidental clicks when hidden */
  }

  .filter-panel {
    position: fixed;
    top: 20%;
    right: 0;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 10px;
    
  }
  .filter-button {
    font-family: 'Trench';
  font-weight: 100;
  
  border: 2px solid #F25C05;
  background-color: #e4c753;
  color: #F25C05;
  padding: 7px 14px;
  font-size: 1vw;
  cursor: pointer;
  text-align: center;
    border-radius: 40px;
    transition: background-color 0.3s;
  }
  /* When a filter is active, highlight the button */
  .filter-button.active {
    background: #F25C05;
    color: #fff;
    border-color: #fff;
    font-weight: bold;
  }

  /* Hidden elements: use display: none */
  .hidden {
    display: none !important;
  }

  .slider-panel {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 5px;
    }
    .slider-panel label {
      font-family: 'Trench';
      color: #F25C05;
      font-weight: bold;

    }
    #sizeSlider {
      accent-color: #F25C05;
      width: 120px;
    }

    .slide-container{
      position: relative;
    }

    .mySlides {
      display: none;
    }

    .prev,
    .next {
      cursor: pointer;
      position: absolute;
      top: 40%;
      width: auto;
      padding: 16px;
      margin-top: -50px;
      color: white;
      font-weight: bold;
      font-size: 20px;
      border-radius: 0 3px 3px 0;
      user-select: none;
      -webkit-user-select: none;
    }

    /* Position the "next button" to the right */
    .next {
      right: 0;
      border-radius: 3px 0 0 3px;
    }
        /* Number text (1/3 etc) */
    .numbertext {
      color: #f2f2f2;
      font-size: 12px;
      padding: 8px 12px;
      position: absolute;
      top: 0;
    }

        /* Container for image text */
    .caption-container {
      text-align: center;
      background-color: #222;
      padding: 2px 16px;
      color: white;
    }

    .row:after {
      content: "";
      display: table;
      clear: both;
    }






    /* thickness */
::-webkit-scrollbar {
  width: 30px;
}

/* track using your gradient dot pattern */
::-webkit-scrollbar-track {
  background-color: #fff;
  background-image: radial-gradient(#e6d063 1.5px, transparent 1px);
  background-size: 6px 6px;
  border-left: 2px solid #e26126;
  border-right: 2px solid #e26126;
}

/* thumb */
::-webkit-scrollbar-thumb {
  background: #e6d063;
  border-top: 2px solid #e26126;
  border-bottom: 2px solid #e26126;
  border-radius: 30px;
  transition: top 0.1s ease;

  /* trying to approximate your .thumb text styling,
     note that most browsers won’t render text inside the native thumb */
  writing-mode: vertical-rl;
  text-orientation: mixed;
  font-family: 'PP Mori', sans-serif;
  color: #d35400;
  font-size: 20px;
}

/* firefox fallback */
/* body {
  scrollbar-width: thin;
  
  scrollbar-color: #e6d063 #fff;
} */


  #text-box {
            font-size: 20px;
            color: #fff;
            line-height: 1.3;
            padding: 40px;
            padding-right: 80px;
            padding-top: 0%;
          }

         #sectionB h1, #sectionD h1, #sectionF h1{
              font-family: 'PP Mori';
              padding-left: 40px;
              padding-right: 40px;
              padding-top: 20px;
              font-size: 6rem;
              color: #e26126;
          }

          #sectionB h2, #sectionD h2, #sectionF h2{
              font-family: 'PP Mori';
               color: #e26126;
              padding: 20px;
              padding-left: 0px;
          }

         #sectionB h3, #sectionD h3, #sectionF h3{
              font-family: 'PP Mori';
              font-size: 1.5rem;
               color: #e26126;
              
          }

          #sectionB p, #sectionD p, #sectionF p{
              font-family: 'PP Mori';
              font-size: 1.2rem;
              background-color: #e6d063;
              color: #311d1d;
          }




       

   
  </style>


<main>

  <section id="sectionA">



<div class="info-container">
    <a href="./index.html"><button class="btn" style="font-size: 1rem;">⇠BACK</button></a>
<h2>ACTIONS / POSTURE / GESTURE</h2>
    <p>
        Sweeping wrists, crouched legs and bent spines. Bangles clinking, fingers dusted with powdered rice. 
    <br><br>
        In these subtleties lies a daily ritual, a way of life for many Indian women. The creation of a rangoli.
    <br><br>
        In every gesture, a story unfolds — the body sings in soft arcs and angled lines. Actions become poetry when intention and motion intertwine. 
        The slow, sacred art of being alive.
    <br><br><br>
        <b>
            Filter through the videos to look into the various nuances of gestures, materials and ways in which rangolis can be drawn.
        </b>
    </p>
       

</div>

<div class="panel-container">
    <div class="filter-panel">
        <!-- Each button toggles a specific filter, indicated by data-filter -->
        <div 
          class="filter-button" 
          data-filter="pinched">
          PINCHED
        </div>
        <div 
          class="filter-button" 
          data-filter="sprinkle">
          SPRINKLED
        </div>
        <div 
          class="filter-button" 
          data-filter="drawn">
          DRAWN
        </div>
        <div 
          class="filter-button" 
          data-filter="standing">
          STANDING / BENDING
        </div>
        <div 
          class="filter-button" 
          data-filter="crouching">
          CROUCHING / SITTING
        </div>
        <div 
          class="filter-button" 
          data-filter="continuous">
          CONTINUOUS
        </div>
        <div 
          class="filter-button" 
          data-filter="segmented">
          SEGMENTED
        </div>
        <div 
          class="filter-button" 
          data-filter="by-hand">
          BY HAND
        </div>
        <div 
          class="filter-button" 
          data-filter="by-tool">
          BY TOOL
        </div>
        <div 
          class="filter-button" 
          data-filter="rice">
          RICE
        </div>
        <div 
        class="filter-button" 
        data-filter="alt-material">
         ALT MATERIAL
        </div>
        <div 
        class="filter-button" 
        data-filter="colored">
         COLORED
        </div>
        <div 
        class="filter-button" 
        data-filter="white">
         WHITE
        </div>


        <div class="slider-panel">
            <label for="sizeSlider">VISUAL SIZE</label>
            <input 
              type="range" 
              id="sizeSlider" 
              min="80" 
              max="360" 
              value="120" 
              step="1"
            />
          </div>
        
      </div>
</div>



   

   
    <!-- <div class="page-boundary"></div> -->

  <!-- Videos -->
  <video src="./assets/actions/gesture-vids/1.mp4" class="draggable by-tool rice segmented colored"  autoplay loop></video>
  <video src="./assets/actions/gesture-vids/2.mp4" class="draggable drawn by-tool crouching sprinkle colored segmented rice"  autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/3.mp4" class="draggable pinched  by-hand rice white segmented" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/4.mp4" class="draggable pinched crouching segmented by-hand rice white" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/5.mp4" class="draggable pinched crouching segmented by-hand rice white" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/6.mp4" class="draggable drawn rice white by-tool segmented crouching" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/7.mp4" class="draggable alt-material by-hand rice white colored segmented crouching" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/8.mp4" class="draggable standing white rice pinched by-hand" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/9.mp4" class="draggable by-hand drawn colored rice crouching" autoplay loop></video>
  <video src="./assets/actions/gesture-vids/10.mp4" class="draggable by-tool drawn alt-material white" autoplay  loop></video>

  <video src="./assets/actions/gesture-vids/11.mp4" class="draggable drawn alt-material by-tool colored" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/12.mp4" class="draggable pinched crouching by-hand colored rice" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/13.mp4" class="draggable pinched crouching by-hand white colored rice" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/14.mp4" class="draggable pinched crouching by-hand white colored rice" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/15.mp4" class="draggable by-tool sprinkle rice colored" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/16.mp4" class="draggable by-tool sprinkle rice colored" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/17.mp4" class="draggable by-hand sprinkle pinched alt-material colored rice crouching" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/18.mp4" class="draggable by-tool rice white crouching drawn" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/19.mp4" class="draggable by-hand pinched colored rice crouching standing" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/20.mp4" class="draggable by-tool rice white standing drawn alt-material" autoplay  loop></video>

  <video src="./assets/actions/gesture-vids/21.mp4" class="draggable drawn by-tool colored" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/22.mp4" class="draggable pinched  by-hand rice white " autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/23.mp4" class="draggable pinched by-hand colored crouching rice" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/24.mp4" class="draggable standing rice colored pinched by-hand" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/25.mp4" class="draggable by-tool alt-material colored drawn" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/26.mp4" class="draggable by-tool colored rice sprinkle" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/27.mp4" class="draggable by-tool alt-material drawn colored" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/28.mp4" class="draggable by-tool alt-material drawn colored" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/29.mp4" class="draggable by-hand pinched colored continuous crouching" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/30.mp4" class="draggable by-tool sprinkle colored rice" autoplay  loop></video>
  <video src="./assets/actions/gesture-vids/31.mp4" class="draggable by-tool sprinkle white rice alt-material" autoplay  loop></video>
    <video src="./assets/actions/gesture-vids/32.mp4" class="draggable by-tool white rice drawn" autoplay  loop></video>

  <!-- Images  -->
  <img src="./assets/actions/gesture-vids/ 1.png"   class="draggable pinched standing by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 2.png"   class="draggable pinched  by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 3.png"   class="draggable pinched  by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 4.png"   class="draggable pinched crouching  by-hand rice colored">
  <img src="./assets/actions/gesture-vids/ 5.png"   class="draggable pinched crouching  by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 6.png"   class="draggable pinched crouching  by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 7.png"   class="draggable pinched crouching  by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 8.png"   class="draggable pinched crouching by-hand rice colored">
  <img src="./assets/actions/gesture-vids/ 9.png"   class="draggable pinched crouching by-hand rice white">
  <img src="./assets/actions/gesture-vids/ 10.png"   class="draggable pinched crouching by-hand rice colored">
  <img src="./assets/actions/gesture-vids/ 11.png"   class="draggable pinched crouching by-hand rice white">
  


</section>
<section id="sectionB">
  <h2>
      From Analog to Digital 
  </h2>
  
  <div id="text-box">
      <p>
          In my own attempts to draw kolams physically, stooping over a tile floor with rice flour pinched between thumb and forefinger, I was quickly confronted with the gap between conceptual understanding and embodied knowledge. My hands struggled. The lines wavered, symmetry slipped, and the wet flour lay in uneven clumps. What felt like a simple gesture when watching others perform it- a graceful sweep of the hand, a confident curve- turned into a halting, awkward sequence when I tried to replicate it. Without years of practice and a lack of intuition, my fingers lacked finesse, and my body, untrained in the rhythms of kolam-making, resisted the flow.
        </p>
        
        <p>
          This difficulty reminded me that gesture in kolam is not merely a motor skill; it is memory, ritual, and spatial orientation, all carried in the body. Drawing a kolam well is less a matter of seeing and more a matter of moving. It’s a form of knowledge embedded in the shoulders, the spine, and the fingertip.

        </p>

        <h3 style="color: #d35400;">
          ↓ In the interactive sketch below, the act of drawing a kolam is mediated through a camera and a machine learning model that tracks hand gestures. 
          
          </h3>
          
          <p>

          The result is not a perfect replication of human motion but a distorted echo of it. The misalignment between where your hand moves and where the kolam appears reflects the difficulty of translating embodied, tacit gestures into computational logic. Something always shifts. The delay, the drift, the spatial mismatch all echo the broader challenge of encoding a living, sensory practice into the structured demands of code. Rather than correct this, I let the distortion remain visible, a trace of translation.
          </p>

  </div>
</section>
<section id="sectionC">
  
  <div id="javascript_sketch">
    <div class="sketch-container">
      <iframe src="sketches/gesture-ml5/"></iframe>
      <div class="sketch-button-panel">
        <button class="sketch-overlay-btn" id="loading-sketch">Loading sketch, wait for it...</button>

        <!-- <button class="sketch-overlay-btn" id="loading-sketch">Loading sketch, wait for it...</button>
        <button class="sketch-overlay-btn" id="instructions-sketch">Make a pinching gesture to your camera and move your hand around to draw a Kolam.</button>
         -->
      </div>
    </div>
  </div>
</section>

<section id="sectionD">
 <h2>
      From Hand to Machine 
  </h2>
  
  <div id="text-box">
      <p>
          Translating these gestures into a technological context opens up both possibilities and tensions. What would it mean, for instance, to use an Axidraw plotter to draw a kolam? The Axidraw offers precision in abundance, but it lacks the embodied temporality that defines a hand-drawn kolam. It does not slow down, pause momentarily, or vary slightly in response to breath or balance. At best, such a machine might serve as a scribe, replicating a design. Yet unless its motions emulate the constraints and improvisations of the human hand, perhaps by encoding hesitation or irregularity, it risks reducing kolam to a static output rather than preserving it as a living practice.

        </p>
        
        <p>
          Still, this disjunction is not necessarily a failure. It can become a site of inquiry. What gestures are lost, altered, or reinterpreted in the shift from hand to machine? What new meanings emerge when kolam is re-inscribed through algorithm and motor instead of muscle and memory?


        </p>

        <p>
          Kolam and rangoli are often thought of as acts of hand and body: stooping, pinching, releasing, balancing symmetry with spontaneity. Yet the objects involved are not just passive tools. Rice flour, fingertips, the ground itself: each one mediates the artist’s intent through texture, resistance, and scale. In the same way, contemporary tools like code, servo motors, and pen plotters (such as the Axidraw) could extend this vocabulary. They could not simply be replacements for the hand but collaborators with different affordances.
        </p>

        <p>
          With this line of thinking, when I use an Axidraw to draw a kolam, I’m not just automating a process. I’m shifting the site of action, from muscle memory to algorithmic instruction, from intuitive curve to coordinate path. Perhaps, the result still carries human intentionality, but refracted through a mechanical logic. There is precision, repetition, even elegance, but also a new kind of uncertainty. Wet rice batter might pool, the pen might slip, the machine might misalign—introducing its own form of improvisation. These glitches are not failures but outcomes of a different kind of embodiment: one where human gesture is translated through code, then enacted by machine.

        </p>

        <p>
          This hybrid process makes visible the layers between thought, movement, and material. Generative design and physical computing do not strip away human presence; they redistribute it. A rangoli made with a plotter still begins with choice, constraint, and curiosity. The object might be different, but the action (interpreting pattern, working with imperfection, leaving a trace) remains.

        </p>

       

  </div>
</section>

<section id="sectionE">
  <img src="./assets/actions/kolam-doorstep.png">

</section>

<section id="sectionF">
  <h2>Materiality</h2>
  <div id="text-box">
    <p>
      From my perspective, as someone who lacks the years of practice than Indian woman have, making a kolam is a tactile negotiation with materials. 
    </p>
      
      <p>When I use wet rice flour in place of ink in the Axidraw, the plotter must contend with thickness, moisture, and absorbency; qualities that are far less predictable than pen on paper. The batter may clot at the nozzle, spread unevenly, or stain the drawing surface in ways that curated code cannot anticipate. From an optimistic perspective, these outcomes are not errors but expressions of a different kind of material logic, one that reintroduces texture and variability into the mechanical process. In traditional kolam-making, rice flour interacts with dust, sunlight, insects, and feet; it is not only a medium but a participant. Translating that materiality into the Axidraw’s controlled framework reveals how much a kolam is shaped by its substrate: how much the ‘ink’ matters, even when the movement is machine-led.
    </p>
  </div>
</section>

<section id="sectionG">
  <img src="./assets/actions/materiality-A.png">
   <img src="./assets/actions/materiality-B.png">
   <!-- <img src="./assets/actions/materiality-B.png"> -->

</section>

<section id="sectionH">
  <img src="./assets/actions/doorstep-drag-1.png" style="width: 40%;"  class="draggable">
  
  <img src="./assets/actions/exhibition-drag-1.png"  style="width: 40%;" class="draggable">
  <img src="./assets/actions/exhibition-drag-2.png"   class="draggable">
  <img src="./assets/actions/doorstep-drag-2.png"   class="draggable">
</section>







</main>

<script>




    window.addEventListener('DOMContentLoaded', () => {
      const draggableItems = document.querySelectorAll('.draggable');
      const filterButtons  = document.querySelectorAll('.filter-button');
      const sizeSlider     = document.getElementById('sizeSlider');

      // 1) RANDOM PLACEMENT & DRAG SETUP
      draggableItems.forEach(item => {
        // Prevent default browser drag
        item.addEventListener('dragstart', e => e.preventDefault());
        const isInSectionH = item.closest('#sectionH');

        let boundary=50;
         let parent = isInSectionH ? document.querySelector('#sectionH') : window;
        let maxX = (isInSectionH ? parent.clientWidth : window.innerWidth) - item.offsetWidth - (boundary * 2);
        let maxY = (isInSectionH ? parent.clientHeight / 2 : window.innerHeight) - item.offsetHeight - (boundary * 2);


        // Random placement within the viewport
        // const maxX = window.innerWidth - item.offsetWidth - (boundary*2);
        // const maxY = window.innerHeight - item.offsetHeight - (boundary*2);
        item.style.left = (boundary+ Math.random() * maxX) + 'px';
        item.style.top  = (boundary+ Math.random() * maxY) + 'px';

        let offsetX = 0, offsetY = 0;

        // DRAG HANDLERS
        item.addEventListener('mousedown', e => {
          offsetX = e.clientX - item.offsetLeft;
          offsetY = e.clientY - item.offsetTop;

          function onMouseMove(moveEvent) {
            item.style.left = (moveEvent.clientX - offsetX) + 'px';
            item.style.top  = (moveEvent.clientY - offsetY) + 'px';
          }
          document.addEventListener('mousemove', onMouseMove);

          function onMouseUp() {
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
          }
          document.addEventListener('mouseup', onMouseUp);
        });
      });

      // 2) FILTER LOGIC
      let activeFilters = []; // store currently active filter classes

      function applyFilters() {
        draggableItems.forEach(item => {
          // If no filters selected, show everything
          if (activeFilters.length === 0) {
            item.classList.remove('hidden');
            return;
          }
          // Otherwise show only if item has ALL active filters
          const itemClasses = Array.from(item.classList);
          const hasAll = activeFilters.every(f => itemClasses.includes(f));
          if (hasAll) {
            item.classList.remove('hidden');
          } else {
            item.classList.add('hidden');
          }
        });
      }

      filterButtons.forEach(button => {
        button.addEventListener('click', () => {
          const filterClass = button.getAttribute('data-filter');
          if (activeFilters.includes(filterClass)) {
            // Remove filter
            activeFilters = activeFilters.filter(f => f !== filterClass);
            button.classList.remove('active');
          } else {
            // Add filter
            activeFilters.push(filterClass);
            button.classList.add('active');
          }
          applyFilters();
        });
      });

      // 3) SLIDER FOR SIZE ADJUSTMENT
      sizeSlider.addEventListener('input', (e) => {
        const newSize = e.target.value; // in px
        // Update width for all draggable items
        draggableItems.forEach(item => {
          item.style.width = newSize + 'px';
          item.style.height = 'auto'; // maintain aspect ratio
        });
      });
    });


    window.addEventListener('message', (event) => {
    if (event.data && event.data.type === 'handposeReady') {
      const loadingButton = document.getElementById('loading-sketch');
      if (loadingButton) {
        loadingButton.textContent = 'Make a pinching gesture to your camera and move your hand around to draw a Kolam.';
      }
    }
  });
  </script>